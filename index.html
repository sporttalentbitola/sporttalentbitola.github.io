<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>SPORT TALENT Management</title>
    
    <!-- Tailwind CSS for styling -->
    <script src="https://cdn.tailwindcss.com"></script>
    
    <!-- Google Fonts: Inter -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet">
    
    <!-- Font Awesome for icons -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/all.min.css">
    
    <style>
        /* Custom styles to complement Tailwind */
        body { font-family: 'Inter', sans-serif; background-color: #f0f2f5; }
        .tab-active { border-bottom-color: #ef4444; color: #ef4444; font-weight: 600; }
        .modal-backdrop { position: fixed; top: 0; left: 0; width: 100%; height: 100%; background-color: rgba(0, 0, 0, 0.6); z-index: 40; }
        /* Loading Spinner */
        .loader {
            border: 4px solid #f3f3f3;
            border-top: 4px solid #ef4444;
            border-radius: 50%;
            width: 40px;
            height: 40px;
            animation: spin 1s linear infinite;
            margin: 2rem auto;
        }
        @keyframes spin {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
        }
    </style>
</head>
<body class="antialiased text-gray-800">

    <!-- Main Application Container -->
    <div id="app" class="max-w-7xl mx-auto p-4 md:p-6">

        <!-- Header -->
        <header class="flex justify-between items-center bg-white p-4 rounded-lg shadow-md mb-6">
            <div class="flex items-center space-x-3">
                <img src="https://storage.googleapis.com/gemini-prod-us-west1-453303953024-assets/9144321617475510464_ST.jpg" alt="Logo" class="h-12 w-12 rounded-full object-cover" onerror="this.onerror=null; this.src='https://placehold.co/100x100/e2e8f0/334155?text=ST';">
                <h1 class="text-2xl font-bold text-gray-700 tracking-wider">SPORT TALENT</h1>
            </div>
            <button onclick="openAddChoiceModal()" class="bg-red-500 hover:bg-red-600 text-white font-bold py-2 px-4 rounded-lg flex items-center space-x-2 transition duration-300">
                <i class="fas fa-plus"></i>
                <span class="hidden md:inline">Add New</span>
            </button>
        </header>

        <!-- Navigation Tabs -->
        <div class="bg-white rounded-lg shadow-md mb-6">
            <nav class="flex border-b border-gray-200 overflow-x-auto">
                <button onclick="showTab('dashboard')" class="tab py-4 px-6 text-gray-500 hover:text-red-500 border-b-2 border-transparent transition duration-300 tab-active flex-shrink-0" data-tab="dashboard">Dashboard</button>
                <button onclick="showTab('players')" class="tab py-4 px-6 text-gray-500 hover:text-red-500 border-b-2 border-transparent transition duration-300 flex-shrink-0" data-tab="players">Player List</button>
                <button onclick="showTab('requests')" class="tab py-4 px-6 text-gray-500 hover:text-red-500 border-b-2 border-transparent transition duration-300 flex-shrink-0" data-tab="requests">Club Requests</button>
                <button onclick="showTab('contacts')" class="tab py-4 px-6 text-gray-500 hover:text-red-500 border-b-2 border-transparent transition duration-300 flex-shrink-0" data-tab="contacts">Contacts</button>
                <button onclick="showTab('settings')" class="tab py-4 px-6 text-gray-500 hover:text-red-500 border-b-2 border-transparent transition duration-300 flex-shrink-0" data-tab="settings">Settings</button>
            </nav>
        </div>

        <!-- Content Area -->
        <main id="content-area">
            <!-- App content is rendered here by JavaScript -->
        </main>

    </div>

    <!-- Modals Container -->
    <div id="modal-container"></div>

    <!-- Main Application Logic -->
    <script type="module">
        // Import functions from the Firebase SDKs
        import { initializeApp } from "https://www.gstatic.com/firebasejs/9.15.0/firebase-app.js";
        import { getFirestore, collection, onSnapshot, doc, addDoc, setDoc, deleteDoc, updateDoc, query, orderBy, serverTimestamp } from "https://www.gstatic.com/firebasejs/9.15.0/firebase-firestore.js";

        // --- Your web app's Firebase configuration ---
        const firebaseConfig = {
            apiKey: "AIzaSyBpKCpXNPtkD21oB28hlGTz1KUliFXQIpI",
            authDomain: "sporttalent-c3919.firebaseapp.com",
            projectId: "sporttalent-c3919",
            storageBucket: "sporttalent-c3919.appspot.com",
            messagingSenderId: "981309667492",
            appId: "1:981309667492:web:b0d0db7f9db8ce1f9b4e31"
        };
        // ---------------------------------------------------------
        
        // --- Initialize Firebase and Application ---
        const app = initializeApp(firebaseConfig);
        const db = getFirestore(app);

        // --- GLOBAL STATE ---
        let localDB = {
            profiles: [],
            clubRequests: [],
            reminders: [],
            settings: {
                password: "" // Default to no password
            }
        };

        // --- CONSTANTS ---
        const PROFILE_TYPES = ['Player', 'Coach', 'Sporting Director', 'President', 'Scout'];
        const POSITIONS = ["Goalkeeper (GK)", "Right-Back (RB)", "Left-Back (LB)", "Centre-Back (CB)", "Defensive Midfielder (DM)", "Central Midfielder (CM)", "Attacking Midfielder (AM)", "Right Winger (RW)", "Left Winger (LW)", "Striker (ST)"];
        const SALARY_RANGES = ["< 5k", "5k - 10k", "10k - 20k", "> 20k"];

        // --- ERROR HANDLER ---
        const handleFirestoreError = (error) => {
            console.error("Firestore Error:", error);
            if (error.code === 'unavailable' || error.code === 'permission-denied') {
                const contentArea = document.getElementById('content-area');
                contentArea.innerHTML = `
                    <div class="bg-red-100 border-l-4 border-red-500 text-red-700 p-6 rounded-lg shadow-md" role="alert">
                        <p class="font-bold text-xl">Database Connection Error</p>
                        <p class="mt-2">The app could not connect to the database. This is usually because the <strong>security rules</strong> need to be updated.</p>
                        <p class="mt-4"><strong>How to fix:</strong></p>
                        <ol class="list-decimal list-inside mt-2 space-y-2">
                            <li>Go to your <a href="https://console.firebase.google.com/project/${firebaseConfig.projectId}/firestore/rules" target="_blank" class="text-blue-600 hover:underline">Firebase Console -> Firestore -> Rules</a>.</li>
                            <li>Replace the existing rules with the following code to allow access:</li>
                        </ol>
                        <pre class="bg-gray-100 p-3 rounded-md mt-2 text-sm"><code>rules_version = '2';
service cloud.firestore {
  match /databases/{database}/documents {
    match /{document=**} {
      allow read, write: if true;
    }
  }
}</code></pre>
                        <p class="mt-4">After updating the rules, refresh this page.</p>
                    </div>
                `;
            }
        };

        // --- REAL-TIME DATA LISTENERS ---
        window.onload = () => {
            onSnapshot(collection(db, "profiles"), (snapshot) => {
                localDB.profiles = snapshot.docs.map(doc => ({ id: doc.id, ...doc.data() }));
                refreshCurrentTab();
            }, handleFirestoreError);
            onSnapshot(query(collection(db, "clubRequests"), orderBy("createdAt", "desc")), (snapshot) => {
                localDB.clubRequests = snapshot.docs.map(doc => ({ id: doc.id, ...doc.data() }));
                refreshCurrentTab();
            }, handleFirestoreError);
            onSnapshot(query(collection(db, "reminders"), orderBy("createdAt", "desc")), (snapshot) => {
                localDB.reminders = snapshot.docs.map(doc => ({ id: doc.id, ...doc.data() }));
                refreshCurrentTab();
            }, handleFirestoreError);
            onSnapshot(doc(db, "settings", "introMessage"), (doc) => {
                localDB.settings.introMessage = doc.exists() ? doc.data().text : 'Default intro message...';
                refreshCurrentTab();
            }, handleFirestoreError);
            onSnapshot(doc(db, "settings", "security"), (doc) => {
                localDB.settings.password = doc.exists() ? doc.data().confirmationPassword : "";
                refreshCurrentTab();
            }, handleFirestoreError);
            
            showTab('dashboard');
        };

        // Make functions globally accessible
        window.showTab = showTab;
        window.openAddChoiceModal = openAddChoiceModal;
        window.closeModal = closeModal;
        window.openProfileModal = openProfileModal;
        window.openClubRequestModal = openClubRequestModal;
        window.openDeleteModal = openDeleteModal;
        window.openReportModal = openReportModal;
        window.copyReport = copyReport;
        window.togglePlayerDetails = togglePlayerDetails;
        window.addReminder = addReminder;
        window.toggleReminder = toggleReminder;
        window.saveIntroMessage = saveIntroMessage;
        window.shareIntroMessage = shareIntroMessage;
        window.openClubRequestReportModal = openClubRequestReportModal;
        window.openAllClubRequestsReportModal = openAllClubRequestsReportModal;
        window.requestSaveConfirmation = requestSaveConfirmation;
        window.requestDeleteConfirmation = requestDeleteConfirmation;
        window.handlePasswordSave = handlePasswordSave;

        // --- UI RENDERING FUNCTIONS ---
        function refreshCurrentTab() {
            const activeTab = document.querySelector('.tab-active')?.dataset.tab;
            if (activeTab) {
                showTab(activeTab, false);
            }
        }
        
        function showTab(tabName, changeTab = true) {
            if (changeTab) {
                document.querySelectorAll('.tab').forEach(tab => tab.classList.remove('tab-active'));
                document.querySelector(`[data-tab="${tabName}"]`).classList.add('tab-active');
            }
            const container = document.getElementById('content-area');
            container.innerHTML = `<div class="loader"></div>`;
            setTimeout(() => {
                let contentHTML = '';
                switch(tabName) {
                    case 'dashboard': contentHTML = getDashboardHTML(); break;
                    case 'players': contentHTML = getPlayerListHTML(); break;
                    case 'requests': contentHTML = getClubRequestsHTML(); break;
                    case 'contacts': contentHTML = getContactsHTML(); break;
                    case 'settings': contentHTML = getSettingsHTML(); break;
                }
                container.innerHTML = contentHTML;
                if (tabName === 'dashboard') {
                    const introMessageTextarea = document.getElementById('intro-message');
                    if (introMessageTextarea) {
                        introMessageTextarea.value = localDB.settings.introMessage || '';
                    }
                }
            }, 50);
        }

        function getDashboardHTML() {
            const sortedReminders = [...localDB.reminders].sort((a, b) => a.isCompleted - b.isCompleted);
            const remindersList = sortedReminders.length > 0 ? sortedReminders.map(r => `<div class="flex items-center justify-between p-2 rounded-md hover:bg-gray-100"><div class="flex items-center"><input type="checkbox" ${r.isCompleted ? 'checked' : ''} onchange="toggleReminder('${r.id}')" class="h-5 w-5 rounded border-gray-300 text-red-500 focus:ring-red-500 mr-3"><span class="${r.isCompleted ? 'line-through text-gray-400' : ''}">${r.text}</span></div><button onclick="openDeleteModal('reminder', '${r.id}')" class="text-gray-400 hover:text-red-500 p-1"><i class="fas fa-times"></i></button></div>`).join('') : `<p class="text-center text-gray-500">No reminders. Add one below!</p>`;
            let connectionsFound = false;
            const connectionsList = localDB.clubRequests.map(req => {
                const matchingPlayers = localDB.profiles.filter(p => p.profileType === 'Player' && p.playerDetails && req.positions.includes(p.playerDetails.position) && req.salaryRange === p.playerDetails.salaryRequest);
                if (matchingPlayers.length > 0) { connectionsFound = true; return `<div class="bg-gray-50 p-4 rounded-lg border"><div class="mb-3"><p class="font-bold text-lg">${req.clubName}</p><p class="text-sm text-gray-600">Looking for: ${req.positions.join(', ')}</p><p class="text-sm text-gray-600">Salary: ${req.salaryRange}</p></div><div class="border-t pt-3"><h4 class="font-semibold mb-2">Matching Players:</h4><ul class="space-y-1 list-disc list-inside text-sm">${matchingPlayers.map(p => `<li>${p.firstName} ${p.lastName} (${p.playerDetails.position.match(/\((.*?)\)/)[1]})</li>`).join('')}</ul></div></div>`; }
                return '';
            }).join('');
            const connectionsHTML = connectionsFound ? connectionsList : `<p class="text-center text-gray-500 md:col-span-2">No automatic connections found.</p>`;
            return `<div class="grid grid-cols-1 lg:grid-cols-3 gap-6"><div class="lg:col-span-2 space-y-6"><div class="bg-white p-6 rounded-lg shadow-md"><h2 class="text-xl font-bold mb-4">Reminders</h2><div class="space-y-3 mb-4">${remindersList}</div><div class="flex space-x-2"><input id="new-reminder-input" type="text" placeholder="Add a new reminder..." class="flex-grow border border-gray-300 rounded-md p-2 focus:ring-2 focus:ring-red-300 focus:border-red-300"><button onclick="addReminder()" class="bg-blue-500 hover:bg-blue-600 text-white font-bold py-2 px-4 rounded-md">Add</button></div></div><div class="bg-white p-6 rounded-lg shadow-md"><h2 class="text-xl font-bold mb-4">Connected Requests</h2><div class="grid grid-cols-1 md:grid-cols-2 gap-4">${connectionsHTML}</div></div></div><div class="lg:col-span-1"><div class="bg-white p-6 rounded-lg shadow-md"><h2 class="text-xl font-bold mb-4">My Intro Message</h2><textarea id="intro-message" class="w-full h-48 border border-gray-300 rounded-md p-2 mb-4"></textarea><div class="flex space-x-2"><button onclick="saveIntroMessage()" class="flex-1 bg-blue-500 hover:bg-blue-600 text-white font-bold py-2 px-4 rounded-md">Save</button><button onclick="shareIntroMessage()" class="flex-1 bg-green-500 hover:bg-green-600 text-white font-bold py-2 px-4 rounded-md">Share</button></div></div></div></div>`;
        }

        function getPlayerListHTML() {
            const players = localDB.profiles.filter(p => p.profileType === 'Player' && p.playerDetails);
            players.sort((a, b) => { const posA = POSITIONS.indexOf(a.playerDetails.position); const posB = POSITIONS.indexOf(b.playerDetails.position); if (posA !== posB) return posA - posB; return a.lastName.localeCompare(b.lastName) || a.firstName.localeCompare(b.firstName); });
            const groupedByPosition = players.reduce((acc, player) => { const position = player.playerDetails.position; if (!acc[position]) acc[position] = []; acc[position].push(player); return acc; }, {});
            if (players.length === 0) return `<div class="bg-white p-6 rounded-lg shadow-md text-center text-gray-500">No players found. Add one using the '+' button.</div>`;
            return POSITIONS.map(position => { if (!groupedByPosition[position]) return ''; const playersInGroup = groupedByPosition[position]; return `<div class="space-y-4"><h2 class="text-xl font-bold border-b-2 border-red-400 pb-2 mb-4">${position.replace(/\s\(.*\)/, 's')}</h2>${playersInGroup.map(player => { const highlightClass = player.playerDetails.isHighlighted ? 'bg-green-50 border-green-400' : 'bg-white'; const statusText = player.isFreeAgent ? 'Free Agent' : `at ${player.club}`; const statusBadgeColor = player.isFreeAgent ? 'bg-green-100 text-green-800' : 'bg-blue-100 text-blue-800'; const statusBadgeText = player.isFreeAgent ? 'Free Agent' : 'Active Contract'; return `<div class="p-4 rounded-lg shadow-md mb-4 border-l-4 ${highlightClass} flex flex-col md:flex-row justify-between items-start md:items-center"><div><p class="text-lg font-bold ${player.playerDetails.isHighlighted ? 'text-green-800' : ''}">${player.firstName} ${player.lastName}</p><p class="text-gray-600">${player.playerDetails.position.match(/\((.*?)\)/)[1]} at ${statusText}</p><span class="text-xs font-semibold inline-block py-1 px-2 uppercase rounded-full ${statusBadgeColor} mt-2">${statusBadgeText}</span></div><div class="flex space-x-2 mt-4 md:mt-0"><button onclick="openReportModal('${player.id}')" class="bg-gray-200 hover:bg-gray-300 text-gray-700 font-semibold py-2 px-3 rounded-md text-sm">View Profile</button><button onclick="openProfileModal('${player.id}')" class="text-blue-500 hover:text-blue-700 p-2"><i class="fas fa-edit fa-lg"></i></button><button onclick="openDeleteModal('profile', '${player.id}')" class="text-red-500 hover:text-red-700 p-2"><i class="fas fa-trash-alt fa-lg"></i></button></div></div>`; }).join('')}</div>`; }).join('');
        }

        function getClubRequestsHTML() {
            let requestsHTML = `<div class="flex justify-between items-center mb-4"><h2 class="text-2xl font-bold">Club Requests</h2><button onclick="openAllClubRequestsReportModal()" class="bg-green-500 hover:bg-green-600 text-white font-bold py-2 px-4 rounded-lg">Generate Full Report</button></div>`;
            if (localDB.clubRequests.length === 0) { requestsHTML += `<div class="bg-white p-6 rounded-lg shadow-md text-center text-gray-500">No club requests yet.</div>`; return requestsHTML; }
            requestsHTML += localDB.clubRequests.map(req => `<div class="bg-white p-4 rounded-lg shadow-md flex justify-between items-center mb-4"><div><p class="text-lg font-bold">${req.clubName} <span class="text-sm text-gray-500 font-normal">- ${req.country}</span></p><div class="flex flex-wrap gap-2 mt-2">${req.positions.map(p => `<span class="bg-gray-200 text-gray-700 text-xs font-semibold px-2 py-1 rounded-full">${p}</span>`).join('')}</div><p class="text-sm text-gray-600 mt-2">Salary Range: <span class="font-semibold">${req.salaryRange}</span></p><p class="text-xs text-gray-500 mt-1">${req.notes || ''}</p></div><div class="flex space-x-2"><button onclick="openClubRequestReportModal('${req.id}')" class="text-gray-500 hover:text-gray-700 p-2"><i class="fas fa-share-alt fa-lg"></i></button><button onclick="openClubRequestModal('${req.id}')" class="text-blue-500 hover:text-blue-700 p-2"><i class="fas fa-edit fa-lg"></i></button><button onclick="openDeleteModal('request', '${req.id}')" class="text-red-500 hover:text-red-700 p-2"><i class="fas fa-trash-alt fa-lg"></i></button></div></div>`).join('');
            return requestsHTML;
        }

        function getContactsHTML() {
            const contacts = localDB.profiles.filter(p => p.profileType !== 'Player');
            contacts.sort((a, b) => a.lastName.localeCompare(b.lastName) || a.firstName.localeCompare(b.firstName));
            if (contacts.length === 0) return `<div class="bg-white p-6 rounded-lg shadow-md text-center text-gray-500">No contacts yet.</div>`;
            return contacts.map(contact => { const statusText = contact.isWithoutClub ? 'Without a club' : `at ${contact.club}`; return `<div class="bg-white p-4 rounded-lg shadow-md flex justify-between items-center mb-4"><div><p class="text-lg font-bold">${contact.firstName} ${contact.lastName} <span class="text-sm text-blue-500 font-semibold">${contact.profileType}</span></p><p class="text-gray-600">${statusText}</p><div class="text-sm text-gray-500 mt-2"><p><i class="fas fa-phone mr-2"></i>${contact.contact?.phone || 'N/A'}</p><p><i class="fas fa-link mr-2"></i>${contact.contact?.comment || 'N/A'}</p></div></div><div class="flex space-x-2"><button onclick="openProfileModal('${contact.id}')" class="text-blue-500 hover:text-blue-700 p-2"><i class="fas fa-edit fa-lg"></i></button><button onclick="openDeleteModal('profile', '${contact.id}')" class="text-red-500 hover:text-red-700 p-2"><i class="fas fa-trash-alt fa-lg"></i></button></div></div>`; }).join('');
        }

        function getSettingsHTML() {
            const isPasswordSet = localDB.settings.password && localDB.settings.password.length > 0;
            let formHTML = '';
            if (isPasswordSet) {
                formHTML = `
                    <h3 class="text-xl font-semibold mb-4">Change or Remove Password</h3>
                    <div class="mb-4">
                        <label for="current-password" class="block text-sm font-medium text-gray-700">Current Password</label>
                        <input type="password" id="current-password" class="mt-1 block w-full rounded-md border-gray-300 shadow-sm">
                    </div>
                    <div class="mb-4">
                        <label for="new-password" class="block text-sm font-medium text-gray-700">New Password (leave blank to remove)</label>
                        <input type="password" id="new-password" class="mt-1 block w-full rounded-md border-gray-300 shadow-sm">
                    </div>
                    <div class="mb-6">
                        <label for="confirm-password" class="block text-sm font-medium text-gray-700">Confirm New Password</label>
                        <input type="password" id="confirm-password" class="mt-1 block w-full rounded-md border-gray-300 shadow-sm">
                    </div>
                `;
            } else {
                formHTML = `
                    <h3 class="text-xl font-semibold mb-4">Set a New Password</h3>
                    <p class="text-sm text-gray-600 mb-4">Protect your data by requiring a password for all save and delete actions.</p>
                    <div class="mb-4">
                        <label for="new-password" class="block text-sm font-medium text-gray-700">New Password</label>
                        <input type="password" id="new-password" class="mt-1 block w-full rounded-md border-gray-300 shadow-sm">
                    </div>
                    <div class="mb-6">
                        <label for="confirm-password" class="block text-sm font-medium text-gray-700">Confirm New Password</label>
                        <input type="password" id="confirm-password" class="mt-1 block w-full rounded-md border-gray-300 shadow-sm">
                    </div>
                `;
            }

            return `
                <div class="bg-white p-6 rounded-lg shadow-md max-w-lg mx-auto">
                    <h2 class="text-2xl font-bold mb-6">Security Settings</h2>
                    <form onsubmit="event.preventDefault(); handlePasswordSave();">
                        ${formHTML}
                        <div id="settings-error" class="text-red-500 text-sm mb-4 hidden"></div>
                        <div class="flex justify-end">
                            <button type="submit" class="bg-blue-500 hover:bg-blue-600 text-white font-bold py-2 px-4 rounded-lg">Save Settings</button>
                        </div>
                        <div id="settings-status" class="mt-4 text-green-600 text-sm"></div>
                    </form>
                </div>
            `;
        }
        
        // --- DATABASE ACTIONS ---
        async function addReminder() { const input = document.getElementById('new-reminder-input'); if (input.value.trim()) { await addDoc(collection(db, "reminders"), { text: input.value.trim(), isCompleted: false, createdAt: serverTimestamp() }); input.value = ''; } }
        async function toggleReminder(id) { const reminder = localDB.reminders.find(r => r.id === id); await updateDoc(doc(db, "reminders", id), { isCompleted: !reminder.isCompleted }); }
        async function saveIntroMessage() { const message = document.getElementById('intro-message').value; await setDoc(doc(db, "settings", "introMessage"), { text: message }); alert('Intro message saved!'); }
        function shareIntroMessage() { const message = encodeURIComponent(localDB.settings.introMessage); window.open(`https://api.whatsapp.com/send?text=${message}`, '_blank'); }
        async function executeDeleteItem(type, id) { if (type === 'profile') await deleteDoc(doc(db, "profiles", id)); else if (type === 'request') await deleteDoc(doc(db, "clubRequests", id)); else if (type === 'reminder') await deleteDoc(doc(db, "reminders", id)); closeModal(); }

        async function executeSaveProfile(id) {
            const isEditing = id !== 'null';
            const profileType = document.getElementById('profileType').value;
            const isPlayer = profileType === 'Player';
            const newProfileData = { profileType, firstName: document.getElementById('firstName').value, lastName: document.getElementById('lastName').value, club: document.getElementById('club').value, isFreeAgent: isPlayer ? document.getElementById('isFreeAgent').checked : false, isWithoutClub: !isPlayer ? document.getElementById('isFreeAgent').checked : false, };
            if (isPlayer) { newProfileData.playerDetails = { position: document.getElementById('position').value, salaryRequest: document.getElementById('salaryRequest').value, contractEndDate: document.getElementById('contractEndDate').value, isHighlighted: document.getElementById('isHighlighted').checked, videoLink: document.getElementById('videoLink').value, cvLink: document.getElementById('cvLink').value, } } 
            else { const existingProfile = isEditing ? localDB.profiles.find(p => p.id === id) : {}; newProfileData.contact = existingProfile.contact || { phone: '', comment: '' }; }
            if (isEditing) { await setDoc(doc(db, "profiles", id), newProfileData); } else { await addDoc(collection(db, "profiles"), newProfileData); }
            closeModal();
        }

        async function executeSaveClubRequest(id) {
            const isEditing = id !== 'null';
            const selectedPositions = Array.from(document.getElementById('reqPositions').selectedOptions).map(option => option.value);
            const newRequestData = { clubName: document.getElementById('clubName').value, country: document.getElementById('country').value, positions: selectedPositions, salaryRange: document.getElementById('reqSalary').value, notes: document.getElementById('reqNotes').value };
            if (isEditing) { await updateDoc(doc(db, "clubRequests", id), newRequestData); } else { newRequestData.createdAt = serverTimestamp(); await addDoc(collection(db, "clubRequests"), newRequestData); }
            closeModal();
        }

        async function handlePasswordSave() {
            const currentPasswordInput = document.getElementById('current-password');
            const newPasswordInput = document.getElementById('new-password');
            const confirmPasswordInput = document.getElementById('confirm-password');
            const errorDiv = document.getElementById('settings-error');
            const statusDiv = document.getElementById('settings-status');
            
            errorDiv.classList.add('hidden');
            statusDiv.textContent = '';

            const isPasswordSet = localDB.settings.password && localDB.settings.password.length > 0;

            if (isPasswordSet) {
                // Logic for changing or removing password
                if (currentPasswordInput.value !== localDB.settings.password) {
                    errorDiv.textContent = 'Current password is incorrect.';
                    errorDiv.classList.remove('hidden');
                    return;
                }
                if (newPasswordInput.value !== confirmPasswordInput.value) {
                    errorDiv.textContent = 'New passwords do not match.';
                    errorDiv.classList.remove('hidden');
                    return;
                }
            } else {
                // Logic for setting a new password
                if (!newPasswordInput.value) {
                    errorDiv.textContent = 'New password cannot be empty.';
                    errorDiv.classList.remove('hidden');
                    return;
                }
                if (newPasswordInput.value !== confirmPasswordInput.value) {
                    errorDiv.textContent = 'Passwords do not match.';
                    errorDiv.classList.remove('hidden');
                    return;
                }
            }

            try {
                await setDoc(doc(db, "settings", "security"), { confirmationPassword: newPasswordInput.value });
                statusDiv.textContent = "Password updated successfully!";
                setTimeout(() => showTab('settings'), 2000);
            } catch (error) {
                errorDiv.textContent = "Error saving password.";
                errorDiv.classList.remove('hidden');
                console.error("Error saving password:", error);
            }
        }

        // --- MODAL & CONFIRMATION MANAGEMENT ---
        function closeModal() { document.getElementById('modal-container').innerHTML = ''; }
        function openAddChoiceModal() { document.getElementById('modal-container').innerHTML = `<div class="modal-backdrop" onclick="closeModal()"></div><div class="fixed top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 bg-white rounded-lg shadow-xl z-50 w-full max-w-sm p-6"><h3 class="text-xl font-bold text-center mb-6">What to add?</h3><div class="space-y-3"><button onclick="openProfileModal()" class="w-full bg-blue-500 hover:bg-blue-600 text-white font-bold py-3 px-4 rounded-lg">New Player / Contact</button><button onclick="openClubRequestModal()" class="w-full bg-indigo-500 hover:bg-indigo-600 text-white font-bold py-3 px-4 rounded-lg">New Club Request</button><button onclick="closeModal()" class="w-full bg-gray-200 hover:bg-gray-300 text-gray-700 font-bold py-3 px-4 rounded-lg mt-4">Cancel</button></div></div>`; }
        
        function openDeleteModal(type, id) {
            document.getElementById('modal-container').innerHTML = `<div class="modal-backdrop" onclick="closeModal()"></div><div class="fixed top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 bg-white rounded-lg shadow-xl z-50 w-full max-w-sm p-6 text-center"><i class="fas fa-exclamation-triangle text-5xl text-red-400 mb-4"></i><h3 class="text-xl font-bold mb-2">Are you sure?</h3><p class="text-gray-600 mb-6">This action cannot be undone.</p><div class="flex justify-center space-x-4"><button onclick="closeModal()" class="bg-gray-200 hover:bg-gray-300 text-gray-700 font-bold py-2 px-6 rounded-lg">Cancel</button><button onclick="requestDeleteConfirmation('${type}', '${id}')" class="bg-red-500 hover:bg-red-600 text-white font-bold py-2 px-6 rounded-lg">Delete</button></div></div>`;
        }
        
        function requestDeleteConfirmation(type, id) {
            const password = localDB.settings.password;
            if (password && password.length > 0) {
                openConfirmationModal(() => executeDeleteItem(type, id));
            } else {
                executeDeleteItem(type, id);
            }
        }

        function requestSaveConfirmation(type, id) {
            const password = localDB.settings.password;
            if (password && password.length > 0) {
                if (type === 'profile') { openConfirmationModal(() => executeSaveProfile(id)); } 
                else if (type === 'request') { openConfirmationModal(() => executeSaveClubRequest(id)); }
            } else {
                if (type === 'profile') { executeSaveProfile(id); } 
                else if (type === 'request') { executeSaveClubRequest(id); }
            }
        }

        function openConfirmationModal(callback) {
            const modalHTML = `<div class="modal-backdrop" onclick="closeModal()"></div><div class="fixed top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 bg-white rounded-lg shadow-xl z-50 w-full max-w-sm p-6"><h3 class="text-xl font-bold mb-4">Confirm Action</h3><p class="text-gray-600 mb-4">Please enter the password to proceed.</p><input type="password" id="password-input" class="w-full border border-gray-300 rounded-md p-2 mb-4"><div id="password-error" class="text-red-500 text-sm mb-4 hidden">Incorrect password. Please try again.</div><div class="flex justify-end space-x-3"><button type="button" onclick="closeModal()" class="bg-gray-200 hover:bg-gray-300 text-gray-700 font-bold py-2 px-4 rounded-lg">Cancel</button><button type="button" id="confirm-action-btn" class="bg-red-500 hover:bg-red-600 text-white font-bold py-2 px-4 rounded-lg">Confirm</button></div></div>`;
            document.getElementById('modal-container').innerHTML = modalHTML;
            document.getElementById('confirm-action-btn').onclick = () => {
                const passwordInput = document.getElementById('password-input');
                const errorDiv = document.getElementById('password-error');
                if (passwordInput.value === localDB.settings.password) {
                    callback();
                } else {
                    errorDiv.classList.remove('hidden');
                    passwordInput.focus();
                }
            };
        }

        function copyReport() { const textarea = document.getElementById('report-text-area'); textarea.select(); document.execCommand('copy'); alert('Report copied to clipboard!'); }

        function openProfileModal(id = null) {
            const isEditing = id !== null;
            const profile = isEditing ? localDB.profiles.find(p => p.id === id) : {};
            const title = isEditing ? `Edit ${profile.firstName} ${profile.lastName}` : 'Add New Person';
            document.getElementById('modal-container').innerHTML = `<div class="modal-backdrop"></div><div class="fixed top-0 left-0 w-full h-full flex items-center justify-center z-50 p-4"><div class="bg-white rounded-lg shadow-xl w-full max-w-2xl max-h-full overflow-y-auto"><form onsubmit="event.preventDefault(); requestSaveConfirmation('profile', '${id}');" class="p-6 space-y-4"><h3 class="text-2xl font-bold mb-4">${title}</h3><div id="form-fields-container" class="grid grid-cols-1 md:grid-cols-2 gap-4"></div><div id="player-details-section" class="hidden pt-4 border-t"><h4 class="text-lg font-semibold mb-2">Player Details</h4><div id="player-fields-container" class="grid grid-cols-1 md:grid-cols-2 gap-4"></div></div><div class="flex justify-end space-x-3 pt-4 border-t"><button type="button" onclick="closeModal()" class="bg-gray-200 hover:bg-gray-300 text-gray-700 font-bold py-2 px-4 rounded-lg">Cancel</button><button type="submit" class="bg-red-500 hover:bg-red-600 text-white font-bold py-2 px-4 rounded-lg">Save</button></div></form></div></div>`;
            populateProfileForm(profile);
        }

        function populateProfileForm(profile) {
            const formContainer = document.getElementById('form-fields-container');
            const playerDetailsContainer = document.getElementById('player-fields-container');
            const isPlayer = (profile?.profileType === 'Player') || !profile?.profileType;
            formContainer.innerHTML = `<div><label class="block text-sm font-medium text-gray-700">Profile Type</label><select id="profileType" class="mt-1 block w-full rounded-md border-gray-300 shadow-sm" onchange="togglePlayerDetails(this.value)">${PROFILE_TYPES.map(type => `<option value="${type}" ${profile?.profileType === type ? 'selected' : ''}>${type}</option>`).join('')}</select></div><div></div><div><label class="block text-sm font-medium">First Name*</label><input type="text" id="firstName" value="${profile?.firstName || ''}" required class="mt-1 block w-full rounded-md border-gray-300 shadow-sm"></div><div><label class="block text-sm font-medium">Last Name*</label><input type="text" id="lastName" value="${profile?.lastName || ''}" required class="mt-1 block w-full rounded-md border-gray-300 shadow-sm"></div><div><label class="block text-sm font-medium">Club*</label><input type="text" id="club" value="${profile?.club || ''}" class="mt-1 block w-full rounded-md border-gray-300 shadow-sm"></div><div class="flex items-end pb-1"><label class="flex items-center"><input type="checkbox" id="isFreeAgent" ${profile?.isFreeAgent || profile?.isWithoutClub ? 'checked' : ''} class="rounded border-gray-300 text-red-600 shadow-sm"><span id="checkbox-label" class="ml-2 text-sm text-gray-600">${isPlayer ? 'Or check if Free Agent' : 'Or check if Without a Club'}</span></label></div>`;
            playerDetailsContainer.innerHTML = `<div><label class="block text-sm font-medium">Position*</label><select id="position" class="mt-1 block w-full rounded-md border-gray-300 shadow-sm">${POSITIONS.map(pos => `<option value="${pos}" ${profile?.playerDetails?.position === pos ? 'selected' : ''}>${pos}</option>`).join('')}</select></div><div><label class="block text-sm font-medium">Salary Request*</label><select id="salaryRequest" class="mt-1 block w-full rounded-md border-gray-300 shadow-sm">${SALARY_RANGES.map(range => `<option value="${range}" ${profile?.playerDetails?.salaryRequest === range ? 'selected' : ''}>${range}</option>`).join('')}</select></div><div><label class="block text-sm font-medium">Contract End Date</label><input type="date" id="contractEndDate" value="${profile?.playerDetails?.contractEndDate || ''}" class="mt-1 block w-full rounded-md border-gray-300 shadow-sm"></div><div class="flex items-end pb-1"><label class="flex items-center"><input type="checkbox" id="isHighlighted" ${profile?.playerDetails?.isHighlighted ? 'checked' : ''} class="rounded border-gray-300 text-red-600 shadow-sm"><span class="ml-2 text-sm text-gray-600">Highlight Player</span></label></div><div class="md:col-span-2"><label class="block text-sm font-medium">Video Link (YouTube)</label><input type="url" id="videoLink" value="${profile?.playerDetails?.videoLink || ''}" class="mt-1 block w-full rounded-md border-gray-300 shadow-sm"></div><div class="md:col-span-2"><label class="block text-sm font-medium">CV Link (e.g., TM)</label><input type="url" id="cvLink" value="${profile?.playerDetails?.cvLink || ''}" class="mt-1 block w-full rounded-md border-gray-300 shadow-sm"></div>`;
            togglePlayerDetails(document.getElementById('profileType').value);
        }

        function togglePlayerDetails(profileType) {
            const playerSection = document.getElementById('player-details-section');
            const checkboxLabel = document.getElementById('checkbox-label');
            if (profileType === 'Player') { playerSection.classList.remove('hidden'); checkboxLabel.textContent = 'Or check if Free Agent'; } 
            else { playerSection.classList.add('hidden'); checkboxLabel.textContent = 'Or check if Without a Club'; }
        }
        
        function openClubRequestModal(id = null) {
            const isEditing = id !== null;
            const request = isEditing ? localDB.clubRequests.find(r => r.id === id) : {};
            const title = isEditing ? `Edit Request from ${request.clubName}` : 'Add New Club Request';
            document.getElementById('modal-container').innerHTML = `<div class="modal-backdrop"></div><div class="fixed top-0 left-0 w-full h-full flex items-center justify-center z-50 p-4"><div class="bg-white rounded-lg shadow-xl w-full max-w-lg"><form onsubmit="event.preventDefault(); requestSaveConfirmation('request', '${id}');" class="p-6 space-y-4"><h3 class="text-2xl font-bold mb-4">${title}</h3><div><label class="block text-sm font-medium">Club Name*</label><input type="text" id="clubName" value="${request?.clubName || ''}" required class="mt-1 block w-full rounded-md border-gray-300 shadow-sm"></div><div><label class="block text-sm font-medium">Country*</label><input type="text" id="country" value="${request?.country || ''}" required class="mt-1 block w-full rounded-md border-gray-300 shadow-sm"></div><div><label class="block text-sm font-medium">Positions (select multiple)*</label><select id="reqPositions" multiple class="mt-1 block w-full rounded-md border-gray-300 shadow-sm h-40">${POSITIONS.map(pos => `<option value="${pos}" ${request?.positions?.includes(pos) ? 'selected' : ''}>${pos}</option>`).join('')}</select></div><div><label class="block text-sm font-medium">Salary Range*</label><select id="reqSalary" class="mt-1 block w-full rounded-md border-gray-300 shadow-sm">${SALARY_RANGES.map(range => `<option value="${range}" ${request?.salaryRange === range ? 'selected' : ''}>${range}</option>`).join('')}</select></div><div><label class="block text-sm font-medium">Notes</label><textarea id="reqNotes" class="mt-1 block w-full rounded-md border-gray-300 shadow-sm">${request?.notes || ''}</textarea></div><div class="flex justify-end space-x-3 pt-4 border-t"><button type="button" onclick="closeModal()" class="bg-gray-200 hover:bg-gray-300 text-gray-700 font-bold py-2 px-4 rounded-lg">Cancel</button><button type="submit" class="bg-red-500 hover:bg-red-600 text-white font-bold py-2 px-4 rounded-lg">Save</button></div></form></div></div>`;
        }

        function openReportModal(playerId) {
            const player = localDB.profiles.find(p => p.id === playerId);
            if (!player || !player.playerDetails) return;
            const reportText = `PLAYER REPORT\n\nName: ${player.firstName} ${player.lastName}\nPosition: ${player.playerDetails.position}\nStatus: ${player.isFreeAgent ? 'Free Agent' : 'Under contract at ' + player.club}\n\nDescription: A talented ${player.playerDetails.position} known for their vision and technical ability.\n\nVideo: ${player.playerDetails.videoLink}\nCV: ${player.playerDetails.cvLink}`;
            const subject = encodeURIComponent(`Player Report: ${player.firstName} ${player.lastName}`);
            const body = encodeURIComponent(reportText.trim());
            document.getElementById('modal-container').innerHTML = `<div class="modal-backdrop" onclick="closeModal()"></div><div class="fixed top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 bg-white rounded-lg shadow-xl z-50 w-full max-w-lg p-6"><h3 class="text-xl font-bold mb-4">Report for ${player.firstName} ${player.lastName}</h3><textarea id="report-text-area" readonly class="w-full h-64 bg-gray-100 p-3 rounded-md border font-mono text-sm">${reportText.trim()}</textarea><div class="flex flex-wrap justify-end gap-2 mt-4"><button onclick="copyReport()" class="bg-blue-500 hover:bg-blue-600 text-white font-bold py-2 px-4 rounded-lg">Copy Report</button><a href="https://api.whatsapp.com/send?text=${encodeURIComponent(reportText.trim())}" target="_blank" class="bg-green-500 hover:bg-green-600 text-white font-bold py-2 px-4 rounded-lg">Share via WhatsApp</a><a href="mailto:?subject=${subject}&body=${body}" target="_blank" class="bg-gray-500 hover:bg-gray-600 text-white font-bold py-2 px-4 rounded-lg">Share via Email</a></div></div>`;
        }
        
        function openClubRequestReportModal(requestId) {
            const request = localDB.clubRequests.find(r => r.id === requestId);
            if (!request) return;
            const reportText = `CLUB REQUEST\n\nClub: ${request.clubName} (${request.country})\nPositions Needed: ${request.positions.join(', ')}\nSalary Range: ${request.salaryRange}\n\nNotes: ${request.notes || 'N/A'}`;
            const subject = encodeURIComponent(`Club Request: ${request.clubName}`);
            const body = encodeURIComponent(reportText.trim());
            document.getElementById('modal-container').innerHTML = `<div class="modal-backdrop" onclick="closeModal()"></div><div class="fixed top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 bg-white rounded-lg shadow-xl z-50 w-full max-w-lg p-6"><h3 class="text-xl font-bold mb-4">Report for ${request.clubName}</h3><textarea id="report-text-area" readonly class="w-full h-64 bg-gray-100 p-3 rounded-md border font-mono text-sm">${reportText.trim()}</textarea><div class="flex flex-wrap justify-end gap-2 mt-4"><button onclick="copyReport()" class="bg-blue-500 hover:bg-blue-600 text-white font-bold py-2 px-4 rounded-lg">Copy Report</button><a href="https://api.whatsapp.com/send?text=${encodeURIComponent(reportText.trim())}" target="_blank" class="bg-green-500 hover:bg-green-600 text-white font-bold py-2 px-4 rounded-lg">Share via WhatsApp</a><a href="mailto:?subject=${subject}&body=${body}" target="_blank" class="bg-gray-500 hover:bg-gray-600 text-white font-bold py-2 px-4 rounded-lg">Share via Email</a></div></div>`;
        }

        function openAllClubRequestsReportModal() {
            if (localDB.clubRequests.length === 0) {
                alert("No club requests to report.");
                return;
            }
            let reportText = "ALL ACTIVE CLUB REQUESTS\n\n";
            localDB.clubRequests.forEach(req => {
                reportText += `----------------------------------------\n`;
                reportText += `Club: ${req.clubName} (${req.country})\n`;
                reportText += `Positions: ${req.positions.join(', ')}\n`;
                reportText += `Salary: ${req.salaryRange}\n`;
                reportText += `Notes: ${req.notes || 'N/A'}\n`;
            });
            const subject = encodeURIComponent(`All Active Club Requests`);
            const body = encodeURIComponent(reportText.trim());
            document.getElementById('modal-container').innerHTML = `<div class="modal-backdrop" onclick="closeModal()"></div><div class="fixed top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 bg-white rounded-lg shadow-xl z-50 w-full max-w-lg p-6"><h3 class="text-xl font-bold mb-4">Full Club Requests Report</h3><textarea id="report-text-area" readonly class="w-full h-64 bg-gray-100 p-3 rounded-md border font-mono text-sm">${reportText.trim()}</textarea><div class="flex flex-wrap justify-end gap-2 mt-4"><button onclick="copyReport()" class="bg-blue-500 hover:bg-blue-600 text-white font-bold py-2 px-4 rounded-lg">Copy Report</button><a href="https://api.whatsapp.com/send?text=${encodeURIComponent(reportText.trim())}" target="_blank" class="bg-green-500 hover:bg-green-600 text-white font-bold py-2 px-4 rounded-lg">Share via WhatsApp</a><a href="mailto:?subject=${subject}&body=${body}" target="_blank" class="bg-gray-500 hover:bg-gray-600 text-white font-bold py-2 px-4 rounded-lg">Share via Email</a></div></div>`;
        }

    </script>
</body>
</html>
```

---
### **2. The New Data Uploader Tool**

You will need to use this new, updated uploader tool. The old one will not work correctly with the updated data structure.

**How to Use It:**
1.  **Save this new code** to your computer as `uploader.html`.
2.  **Open the new `uploader.html` file** in your web browser.
3.  Click the **"Start Data Upload"** button.
4.  Wait for the confirmation message that the upload is complete.

After you've updated the main app on GitHub and run this new uploader, your app will be fully functional, secure, and populated with your initial data.


```html
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Sport Talent - Data Uploader</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet">
    <style>
        body { font-family: 'Inter', sans-serif; }
    </style>
</head>
<body class="bg-gray-100 flex items-center justify-center h-screen">

    <div class="bg-white p-8 rounded-lg shadow-lg text-center max-w-lg">
        <h1 class="text-2xl font-bold mb-4">Sport Talent Data Uploader</h1>
        <p class="text-gray-600 mb-6">This is a one-time tool to upload all your initial player, contact, and club request data to your live Firebase database. Click the button below to begin.</p>
        <button id="upload-button" onclick="uploadData()" class="bg-red-500 hover:bg-red-600 text-white font-bold py-3 px-6 rounded-lg transition duration-300 w-full">
            Start Data Upload
        </button>
        <div id="status" class="mt-6 text-left text-sm text-gray-700 h-48 overflow-y-auto bg-gray-50 p-3 rounded-md border">
            Waiting to start...
        </div>
    </div>

    <script type="module">
        import { initializeApp } from "https://www.gstatic.com/firebasejs/9.15.0/firebase-app.js";
        import { getFirestore, collection, doc, writeBatch, serverTimestamp } from "https://www.gstatic.com/firebasejs/9.15.0/firebase-firestore.js";

        const firebaseConfig = {
            apiKey: "AIzaSyBpKCpXNPtkD21oB28hlGTz1KUliFXQIpI",
            authDomain: "sporttalent-c3919.firebaseapp.com",
            projectId: "sporttalent-c3919",
            storageBucket: "sporttalent-c3919.appspot.com",
            messagingSenderId: "981309667492",
            appId: "1:981309667492:web:b0d0db7f9db8ce1f9b4e31"
        };

        const app = initializeApp(firebaseConfig);
        const db = getFirestore(app);

        const dataToUpload = {
            profiles: [
                // Goalkeepers
                { profileType: 'Player', firstName: 'Dan', lastName: 'Kucher', club: 'Unknown', isFreeAgent: false, playerDetails: { position: 'Goalkeeper (GK)', salaryRequest: '5k - 10k', contractEndDate: '', isHighlighted: false, videoLink: '', cvLink: '' } },
                { profileType: 'Player', firstName: 'Nik', lastName: 'Fras', club: 'Unknown', isFreeAgent: false, playerDetails: { position: 'Goalkeeper (GK)', salaryRequest: '5k - 10k', contractEndDate: '', isHighlighted: false, videoLink: '', cvLink: '' } },
                { profileType: 'Player', firstName: 'Damjan', lastName: 'Siskovski', club: 'Unknown', isFreeAgent: false, playerDetails: { position: 'Goalkeeper (GK)', salaryRequest: '5k - 10k', contractEndDate: '', isHighlighted: false, videoLink: '', cvLink: '' } },
                { profileType: 'Player', firstName: 'Stefan', lastName: 'upi', club: 'Unknown', isFreeAgent: false, playerDetails: { position: 'Goalkeeper (GK)', salaryRequest: '5k - 10k', contractEndDate: '', isHighlighted: false, videoLink: '', cvLink: '' } },
                { profileType: 'Player', firstName: 'Andrija', lastName: 'Dragojevi', club: 'Unknown', isFreeAgent: false, playerDetails: { position: 'Goalkeeper (GK)', salaryRequest: '5k - 10k', contractEndDate: '', isHighlighted: false, videoLink: '', cvLink: '' } },
                { profileType: 'Player', firstName: 'Marko', lastName: 'Alevski', club: 'Unknown', isFreeAgent: false, playerDetails: { position: 'Goalkeeper (GK)', salaryRequest: '5k - 10k', contractEndDate: '', isHighlighted: false, videoLink: '', cvLink: '' } },
                { profileType: 'Player', firstName: 'Kristijan', lastName: 'Kitanovski', club: 'Unknown', isFreeAgent: false, playerDetails: { position: 'Goalkeeper (GK)', salaryRequest: '5k - 10k', contractEndDate: '', isHighlighted: false, videoLink: '', cvLink: '' } },
                { profileType: 'Player', firstName: 'Samoil', lastName: 'Talevski', club: 'Unknown', isFreeAgent: false, playerDetails: { position: 'Goalkeeper (GK)', salaryRequest: '5k - 10k', contractEndDate: '', isHighlighted: false, videoLink: '', cvLink: '' } },
                { profileType: 'Player', firstName: 'Gorazd', lastName: 'Gigov', club: 'Unknown', isFreeAgent: false, playerDetails: { position: 'Goalkeeper (GK)', salaryRequest: '5k - 10k', contractEndDate: '', isHighlighted: false, videoLink: '', cvLink: '' } },
                { profileType: 'Player', firstName: 'Tadej', lastName: 'Trajkovski', club: 'Unknown', isFreeAgent: false, playerDetails: { position: 'Goalkeeper (GK)', salaryRequest: '5k - 10k', contractEndDate: '', isHighlighted: false, videoLink: '', cvLink: '' } },
                { profileType: 'Player', firstName: 'Anamarija', lastName: 'Prljevic', club: 'Women', isFreeAgent: false, playerDetails: { position: 'Goalkeeper (GK)', salaryRequest: '5k - 10k', contractEndDate: '', isHighlighted: false, videoLink: '', cvLink: '' } },
                // Right Backs
                { profileType: 'Player', firstName: 'Mohamed', lastName: 'Mezghrani', club: 'Unknown', isFreeAgent: false, playerDetails: { position: 'Right-Back (RB)', salaryRequest: '5k - 10k', contractEndDate: '', isHighlighted: false, videoLink: '', cvLink: '' } },
                { profileType: 'Player', firstName: 'Stefan', lastName: 'Ivanovski', club: 'EU passport', isFreeAgent: false, playerDetails: { position: 'Right-Back (RB)', salaryRequest: '5k - 10k', contractEndDate: '', isHighlighted: false, videoLink: '', cvLink: '' } },
                { profileType: 'Player', firstName: 'Bojan', lastName: 'Ilievski', club: 'Unknown', isFreeAgent: false, playerDetails: { position: 'Right-Back (RB)', salaryRequest: '5k - 10k', contractEndDate: '', isHighlighted: false, videoLink: '', cvLink: '' } },
                { profileType: 'Player', firstName: 'Boris', lastName: 'Sekuli', club: 'also CB', isFreeAgent: false, playerDetails: { position: 'Right-Back (RB)', salaryRequest: '5k - 10k', contractEndDate: '', isHighlighted: false, videoLink: '', cvLink: '' } },
                // Left Backs
                { profileType: 'Player', firstName: 'Andrija', lastName: 'Krivokapi', club: 'Unknown', isFreeAgent: false, playerDetails: { position: 'Left-Back (LB)', salaryRequest: '5k - 10k', contractEndDate: '', isHighlighted: false, videoLink: '', cvLink: '' } },
                { profileType: 'Player', firstName: 'Kristijan', lastName: 'Tasevski', club: 'also RB/DMF', isFreeAgent: false, playerDetails: { position: 'Left-Back (LB)', salaryRequest: '5k - 10k', contractEndDate: '', isHighlighted: false, videoLink: '', cvLink: '' } },
                { profileType: 'Player', firstName: 'Valeriy', lastName: 'Stepanenko', club: 'also CB', isFreeAgent: false, playerDetails: { position: 'Left-Back (LB)', salaryRequest: '5k - 10k', contractEndDate: '', isHighlighted: false, videoLink: '', cvLink: '' } },
                // Central Defenders
                { profileType: 'Player', firstName: 'Sava', lastName: 'Radic', club: 'Unknown', isFreeAgent: false, playerDetails: { position: 'Centre-Back (CB)', salaryRequest: '5k - 10k', contractEndDate: '', isHighlighted: false, videoLink: '', cvLink: '' } },
                { profileType: 'Player', firstName: 'Dejan', lastName: 'Kerkez', club: 'Unknown', isFreeAgent: false, playerDetails: { position: 'Centre-Back (CB)', salaryRequest: '5k - 10k', contractEndDate: '', isHighlighted: false, videoLink: '', cvLink: '' } },
                { profileType: 'Player', firstName: 'Milos', lastName: 'Stojanovic', club: 'Unknown', isFreeAgent: false, playerDetails: { position: 'Centre-Back (CB)', salaryRequest: '5k - 10k', contractEndDate: '', isHighlighted: false, videoLink: '', cvLink: '' } },
                { profileType: 'Player', firstName: 'Mario', lastName: 'ebi', club: 'Unknown', isFreeAgent: false, playerDetails: { position: 'Centre-Back (CB)', salaryRequest: '5k - 10k', contractEndDate: '', isHighlighted: false, videoLink: '', cvLink: '' } },
                { profileType: 'Player', firstName: 'Alisson', lastName: 'Cassiano Lima', club: 'Unknown', isFreeAgent: false, playerDetails: { position: 'Centre-Back (CB)', salaryRequest: '5k - 10k', contractEndDate: '', isHighlighted: false, videoLink: '', cvLink: '' } },
                { profileType: 'Player', firstName: 'Krystian', lastName: 'Nowak', club: 'Unknown', isFreeAgent: false, playerDetails: { position: 'Centre-Back (CB)', salaryRequest: '5k - 10k', contractEndDate: '', isHighlighted: false, videoLink: '', cvLink: '' } },
                { profileType: 'Player', firstName: 'Nemanja', lastName: 'Koji', club: 'Unknown', isFreeAgent: false, playerDetails: { position: 'Centre-Back (CB)', salaryRequest: '5k - 10k', contractEndDate: '', isHighlighted: false, videoLink: '', cvLink: '' } },
                { profileType: 'Player', firstName: 'Andrija', lastName: 'Dimeski', club: 'Unknown', isFreeAgent: false, playerDetails: { position: 'Centre-Back (CB)', salaryRequest: '5k - 10k', contractEndDate: '', isHighlighted: false, videoLink: '', cvLink: '' } },
                { profileType: 'Player', firstName: 'Nikola', lastName: 'Pervan', club: 'Unknown', isFreeAgent: false, playerDetails: { position: 'Centre-Back (CB)', salaryRequest: '5k - 10k', contractEndDate: '', isHighlighted: false, videoLink: '', cvLink: '' } },
                { profileType: 'Player', firstName: 'Aleksandar', lastName: 'Luki', club: 'Unknown', isFreeAgent: false, playerDetails: { position: 'Centre-Back (CB)', salaryRequest: '5k - 10k', contractEndDate: '', isHighlighted: false, videoLink: '', cvLink: '' } },
                { profileType: 'Player', firstName: 'Matej', lastName: 'Jordanovski', club: 'Unknown', isFreeAgent: false, playerDetails: { position: 'Centre-Back (CB)', salaryRequest: '5k - 10k', contractEndDate: '', isHighlighted: false, videoLink: '', cvLink: '' } },
                { profileType: 'Player', firstName: 'Mate', lastName: 'Abuladze', club: 'Unknown', isFreeAgent: false, playerDetails: { position: 'Centre-Back (CB)', salaryRequest: '5k - 10k', contractEndDate: '', isHighlighted: false, videoLink: '', cvLink: '' } },
                // Defensive Midfielders
                { profileType: 'Player', firstName: 'Djordje', lastName: 'Deni', club: 'Unknown', isFreeAgent: false, playerDetails: { position: 'Defensive Midfielder (DM)', salaryRequest: '5k - 10k', contractEndDate: '', isHighlighted: false, videoLink: '', cvLink: '' } },
                { profileType: 'Player', firstName: 'Nedim', lastName: 'Meki', club: 'Unknown', isFreeAgent: false, playerDetails: { position: 'Defensive Midfielder (DM)', salaryRequest: '5k - 10k', contractEndDate: '', isHighlighted: false, videoLink: '', cvLink: '' } },
                { profileType: 'Player', firstName: 'Marko', lastName: 'Baki', club: 'Montenegro NT', isFreeAgent: false, playerDetails: { position: 'Defensive Midfielder (DM)', salaryRequest: '5k - 10k', contractEndDate: '', isHighlighted: false, videoLink: '', cvLink: '' } },
                { profileType: 'Player', firstName: 'Marius', lastName: 'Lundemo', club: 'Unknown', isFreeAgent: false, playerDetails: { position: 'Defensive Midfielder (DM)', salaryRequest: '5k - 10k', contractEndDate: '', isHighlighted: false, videoLink: '', cvLink: '' } },
                { profileType: 'Player', firstName: 'Danilo', lastName: 'Dai', club: 'Unknown', isFreeAgent: false, playerDetails: { position: 'Defensive Midfielder (DM)', salaryRequest: '5k - 10k', contractEndDate: '', isHighlighted: false, videoLink: '', cvLink: '' } },
                { profileType: 'Player', firstName: 'Martin', lastName: 'Gorgievski', club: 'Unknown', isFreeAgent: false, playerDetails: { position: 'Defensive Midfielder (DM)', salaryRequest: '5k - 10k', contractEndDate: '', isHighlighted: false, videoLink: '', cvLink: '' } },
                { profileType: 'Player', firstName: 'Mihail', lastName: 'Milevski', club: 'Unknown', isFreeAgent: false, playerDetails: { position: 'Defensive Midfielder (DM)', salaryRequest: '5k - 10k', contractEndDate: '', isHighlighted: false, videoLink: '', cvLink: '' } },
                { profileType: 'Player', firstName: 'Stefan', lastName: 'Jevtoski', club: 'Unknown', isFreeAgent: false, playerDetails: { position: 'Defensive Midfielder (DM)', salaryRequest: '5k - 10k', contractEndDate: '', isHighlighted: false, videoLink: '', cvLink: '' } },
                { profileType: 'Player', firstName: 'Deni', lastName: 'Hoko', club: 'also CM/LB', isFreeAgent: false, playerDetails: { position: 'Defensive Midfielder (DM)', salaryRequest: '5k - 10k', contractEndDate: '', isHighlighted: false, videoLink: '', cvLink: '' } },
                { profileType: 'Player', firstName: 'Mirnes', lastName: 'Pepi', club: 'also CM/AMF', isFreeAgent: false, playerDetails: { position: 'Defensive Midfielder (DM)', salaryRequest: '5k - 10k', contractEndDate: '', isHighlighted: false, videoLink: '', cvLink: '' } },
                // Central Midfielders
                { profileType: 'Player', firstName: 'Boban', lastName: 'Kuzmanovski', club: 'also Winger', isFreeAgent: false, playerDetails: { position: 'Central Midfielder (CM)', salaryRequest: '5k - 10k', contractEndDate: '', isHighlighted: false, videoLink: '', cvLink: '' } },
                { profileType: 'Player', firstName: 'Carlo', lastName: 'Casap', club: 'also AMF', isFreeAgent: false, playerDetails: { position: 'Central Midfielder (CM)', salaryRequest: '5k - 10k', contractEndDate: '', isHighlighted: false, videoLink: '', cvLink: '' } },
                { profileType: 'Player', firstName: 'Marko', lastName: 'Musulin', club: 'Unknown', isFreeAgent: false, playerDetails: { position: 'Central Midfielder (CM)', salaryRequest: '5k - 10k', contractEndDate: '', isHighlighted: false, videoLink: '', cvLink: '' } },
                // Attacking Midfielders
                { profileType: 'Player', firstName: 'Stefan', lastName: 'Bujaroski', club: 'Unknown', isFreeAgent: false, playerDetails: { position: 'Attacking Midfielder (AM)', salaryRequest: '5k - 10k', contractEndDate: '', isHighlighted: false, videoLink: '', cvLink: '' } },
                { profileType: 'Player', firstName: 'Boban', lastName: 'Georgiev', club: 'Unknown', isFreeAgent: false, playerDetails: { position: 'Attacking Midfielder (AM)', salaryRequest: '5k - 10k', contractEndDate: '', isHighlighted: false, videoLink: '', cvLink: '' } },
                { profileType: 'Player', firstName: 'Bashar', lastName: 'Resan', club: 'Unknown', isFreeAgent: false, playerDetails: { position: 'Attacking Midfielder (AM)', salaryRequest: '5k - 10k', contractEndDate: '', isHighlighted: false, videoLink: '', cvLink: '' } },
                { profileType: 'Player', firstName: 'Olivier', lastName: 'Whyte', club: 'Unknown', isFreeAgent: false, playerDetails: { position: 'Attacking Midfielder (AM)', salaryRequest: '5k - 10k', contractEndDate: '', isHighlighted: false, videoLink: '', cvLink: '' } },
                { profileType: 'Player', firstName: 'Moustapha', lastName: 'Benshi', club: 'Unknown', isFreeAgent: false, playerDetails: { position: 'Attacking Midfielder (AM)', salaryRequest: '5k - 10k', contractEndDate: '', isHighlighted: false, videoLink: '', cvLink: '' } },
                { profileType: 'Player', firstName: 'Andrija', lastName: 'Bubnjar', club: 'Unknown', isFreeAgent: false, playerDetails: { position: 'Attacking Midfielder (AM)', salaryRequest: '5k - 10k', contractEndDate: '', isHighlighted: false, videoLink: '', cvLink: '' } },
                { profileType: 'Player', firstName: 'Dudu', lastName: '', club: 'Unknown', isFreeAgent: false, playerDetails: { position: 'Attacking Midfielder (AM)', salaryRequest: '5k - 10k', contractEndDate: '', isHighlighted: false, videoLink: '', cvLink: '' } },
                { profileType: 'Player', firstName: 'Luka', lastName: 'Stankovski', club: 'Unknown', isFreeAgent: false, playerDetails: { position: 'Attacking Midfielder (AM)', salaryRequest: '5k - 10k', contractEndDate: '', isHighlighted: false, videoLink: '', cvLink: '' } },
                // Wingers
                { profileType: 'Player', firstName: 'Nemanja', lastName: 'Belakovi', club: 'Unknown', isFreeAgent: false, playerDetails: { position: 'Right Winger (RW)', salaryRequest: '5k - 10k', contractEndDate: '', isHighlighted: false, videoLink: '', cvLink: '' } },
                { profileType: 'Player', firstName: 'Nikola', lastName: 'Truji', club: 'Unknown', isFreeAgent: false, playerDetails: { position: 'Right Winger (RW)', salaryRequest: '5k - 10k', contractEndDate: '', isHighlighted: false, videoLink: '', cvLink: '' } },
                { profileType: 'Player', firstName: 'Ivan', lastName: 'Gligorov', club: 'Unknown', isFreeAgent: false, playerDetails: { position: 'Right Winger (RW)', salaryRequest: '5k - 10k', contractEndDate: '', isHighlighted: false, videoLink: '', cvLink: '' } },
                { profileType: 'Player', firstName: 'Valentin', lastName: 'Kooski', club: 'Unknown', isFreeAgent: false, playerDetails: { position: 'Right Winger (RW)', salaryRequest: '5k - 10k', contractEndDate: '', isHighlighted: false, videoLink: '', cvLink: '' } },
                { profileType: 'Player', firstName: 'Leon', lastName: 'Krekovi', club: 'Unknown', isFreeAgent: false, playerDetails: { position: 'Right Winger (RW)', salaryRequest: '5k - 10k', contractEndDate: '', isHighlighted: false, videoLink: '', cvLink: '' } },
                { profileType: 'Player', firstName: 'Kristijan', lastName: 'Trapanovski', club: 'Unknown', isFreeAgent: false, playerDetails: { position: 'Right Winger (RW)', salaryRequest: '5k - 10k', contractEndDate: '', isHighlighted: false, videoLink: '', cvLink: '' } },
                { profileType: 'Player', firstName: 'Mico', lastName: 'Kuzmanovi', club: 'Unknown', isFreeAgent: false, playerDetails: { position: 'Right Winger (RW)', salaryRequest: '5k - 10k', contractEndDate: '', isHighlighted: false, videoLink: '', cvLink: '' } },
                { profileType: 'Player', firstName: 'Darko', lastName: 'Grozdanoski', club: 'Unknown', isFreeAgent: false, playerDetails: { position: 'Right Winger (RW)', salaryRequest: '5k - 10k', contractEndDate: '', isHighlighted: false, videoLink: '', cvLink: '' } },
                { profileType: 'Player', firstName: 'Tin', lastName: 'Mati', club: 'also ST', isFreeAgent: false, playerDetails: { position: 'Right Winger (RW)', salaryRequest: '5k - 10k', contractEndDate: '', isHighlighted: false, videoLink: '', cvLink: '' } },
                { profileType: 'Player', firstName: 'Flavia', lastName: 'Giovanna', club: 'Women', isFreeAgent: false, playerDetails: { position: 'Right Winger (RW)', salaryRequest: '5k - 10k', contractEndDate: '', isHighlighted: false, videoLink: '', cvLink: '' } },
                // Strikers
                { profileType: 'Player', firstName: 'Aleksandar', lastName: 'Miov', club: 'Unknown', isFreeAgent: false, playerDetails: { position: 'Striker (ST)', salaryRequest: '5k - 10k', contractEndDate: '', isHighlighted: false, videoLink: '', cvLink: '' } },
                { profileType: 'Player', firstName: 'Marko', lastName: 'Gjorgjievski', club: 'Unknown', isFreeAgent: false, playerDetails: { position: 'Striker (ST)', salaryRequest: '5k - 10k', contractEndDate: '', isHighlighted: false, videoLink: '', cvLink: '' } },
                { profileType: 'Player', firstName: 'Mario', lastName: 'Krstovski', club: 'Unknown', isFreeAgent: false, playerDetails: { position: 'Striker (ST)', salaryRequest: '5k - 10k', contractEndDate: '', isHighlighted: false, videoLink: '', cvLink: '' } },
                { profileType: 'Player', firstName: 'Semir', lastName: 'Smajlagi', club: 'Unknown', isFreeAgent: false, playerDetails: { position: 'Striker (ST)', salaryRequest: '5k - 10k', contractEndDate: '', isHighlighted: false, videoLink: '', cvLink: '' } },
                { profileType: 'Player', firstName: 'Atdhe', lastName: 'Mazari', club: 'Unknown', isFreeAgent: false, playerDetails: { position: 'Striker (ST)', salaryRequest: '5k - 10k', contractEndDate: '', isHighlighted: false, videoLink: '', cvLink: '' } },
                { profileType: 'Player', firstName: 'Aleksa', lastName: 'Marui', club: 'Unknown', isFreeAgent: false, playerDetails: { position: 'Striker (ST)', salaryRequest: '5k - 10k', contractEndDate: '', isHighlighted: false, videoLink: '', cvLink: '' } },
                { profileType: 'Player', firstName: 'Patrik', lastName: 'Miji', club: 'Unknown', isFreeAgent: false, playerDetails: { position: 'Striker (ST)', salaryRequest: '5k - 10k', contractEndDate: '', isHighlighted: false, videoLink: '', cvLink: '' } },
                { profileType: 'Player', firstName: 'Sinisa', lastName: 'Stanisavac', club: 'Unknown', isFreeAgent: false, playerDetails: { position: 'Striker (ST)', salaryRequest: '5k - 10k', contractEndDate: '', isHighlighted: false, videoLink: '', cvLink: '' } },
                { profileType: 'Player', firstName: 'Marjan', lastName: 'Radeski', club: 'Unknown', isFreeAgent: false, playerDetails: { position: 'Striker (ST)', salaryRequest: '5k - 10k', contractEndDate: '', isHighlighted: false, videoLink: '', cvLink: '' } },
                { profileType: 'Player', firstName: 'Veron', lastName: 'Dobruna', club: 'Unknown', isFreeAgent: false, playerDetails: { position: 'Striker (ST)', salaryRequest: '5k - 10k', contractEndDate: '', isHighlighted: false, videoLink: '', cvLink: '' } },
                { profileType: 'Player', firstName: 'Dejan', lastName: 'Tumbas', club: 'Unknown', isFreeAgent: false, playerDetails: { position: 'Striker (ST)', salaryRequest: '5k - 10k', contractEndDate: '', isHighlighted: false, videoLink: '', cvLink: '' } },
                { profileType: 'Player', firstName: 'Stefan', lastName: 'Golubovi', club: 'Unknown', isFreeAgent: false, playerDetails: { position: 'Striker (ST)', salaryRequest: '5k - 10k', contractEndDate: '', isHighlighted: false, videoLink: '', cvLink: '' } },
                { profileType: 'Player', firstName: 'Dino', lastName: 'pehar', club: 'Unknown', isFreeAgent: false, playerDetails: { position: 'Striker (ST)', salaryRequest: '5k - 10k', contractEndDate: '', isHighlighted: false, videoLink: '', cvLink: '' } },
                { profileType: 'Player', firstName: 'Yuri', lastName: 'da Silva de Oliveira', club: 'Unknown', isFreeAgent: false, playerDetails: { position: 'Striker (ST)', salaryRequest: '5k - 10k', contractEndDate: '', isHighlighted: false, videoLink: '', cvLink: '' } },
                { profileType: 'Player', firstName: 'Tome', lastName: 'Grozdanovski', club: 'Unknown', isFreeAgent: false, playerDetails: { position: 'Striker (ST)', salaryRequest: '5k - 10k', contractEndDate: '', isHighlighted: false, videoLink: '', cvLink: '' } },
                { profileType: 'Player', firstName: 'Toni', lastName: 'Kolega', club: 'Unknown', isFreeAgent: false, playerDetails: { position: 'Striker (ST)', salaryRequest: '5k - 10k', contractEndDate: '', isHighlighted: false, videoLink: '', cvLink: '' } },
                { profileType: 'Player', firstName: 'Ljubica', lastName: 'Bulum', club: 'Women', isFreeAgent: false, playerDetails: { position: 'Striker (ST)', salaryRequest: '5k - 10k', contractEndDate: '', isHighlighted: false, videoLink: '', cvLink: '' } },
                // Other Women Players
                { profileType: 'Player', firstName: 'Aleksandra', lastName: 'Markovska', club: 'Playmaker', isFreeAgent: false, playerDetails: { position: 'Attacking Midfielder (AM)', salaryRequest: '5k - 10k', contractEndDate: '', isHighlighted: false, videoLink: '', cvLink: '' } },
                { profileType: 'Player', firstName: 'Anja', lastName: 'Sevo', club: 'Unknown', isFreeAgent: false, playerDetails: { position: 'Central Midfielder (CM)', salaryRequest: '5k - 10k', contractEndDate: '', isHighlighted: false, videoLink: '', cvLink: '' } },
                { profileType: 'Player', firstName: 'Leia', lastName: 'Varley', club: 'Unknown', isFreeAgent: false, playerDetails: { position: 'Central Midfielder (CM)', salaryRequest: '5k - 10k', contractEndDate: '', isHighlighted: false, videoLink: '', cvLink: '' } },
                // Contacts
                { profileType: 'Scout', firstName: 'Afrim', lastName: 'Salievski', club: 'Ajax Belgium', isWithoutClub: false, contact: { phone: '', comment: '' } },
                { profileType: 'Sporting Director', firstName: 'Andrea', lastName: 'Colombino', club: 'Torres FC', isWithoutClub: false, contact: { phone: '', comment: '' } },
                { profileType: 'Scout', firstName: 'Andro', lastName: 'Fistonic', club: 'NK Istra Pula', isWithoutClub: false, contact: { phone: '', comment: 'Coordinator' } },
                { profileType: 'Coach', firstName: 'Attilio', lastName: 'Sorbi', club: 'Inter Milan Women', isWithoutClub: false, contact: { phone: '', comment: '' } },
                { profileType: 'Sporting Director', firstName: 'Besart', lastName: '', club: 'Struga Trim Ljum', isWithoutClub: false, contact: { phone: '', comment: '' } },
                { profileType: 'Scout', firstName: 'Brava', lastName: 'Massimo', club: 'Catanzaro FC', isWithoutClub: false, contact: { phone: '', comment: 'Chief Scout' } },
                { profileType: 'Scout', firstName: 'Denny', lastName: 'Spronck', club: 'PSV', isWithoutClub: false, contact: { phone: '', comment: '' } },
                { profileType: 'President', firstName: 'Floriano', lastName: 'Noto', club: 'Catanzaro FC', isWithoutClub: false, contact: { phone: '', comment: '' } },
                { profileType: 'Coach', firstName: 'Guisepe', lastName: 'Mangiarano', club: 'Ternana Calcio', isWithoutClub: false, contact: { phone: '', comment: 'General Manager' } },
                { profileType: 'President', firstName: 'Hrvoje', lastName: 'Goricancec', club: 'NK Cakovec Megumurje', isWithoutClub: false, contact: { phone: '', comment: '' } },
                { profileType: 'Coach', firstName: 'Ivan', lastName: 'Kurtusic', club: 'Vozdovac', isWithoutClub: false, contact: { phone: '', comment: '' } },
                { profileType: 'Sporting Director', firstName: 'Ivaylo', lastName: 'Petkov', club: 'Arda Kardzhali', isWithoutClub: false, contact: { phone: '', comment: '' } },
                { profileType: 'Scout', firstName: 'Jarek', lastName: 'Gambal', club: 'Cracovia Poland', isWithoutClub: false, contact: { phone: '', comment: 'Contact' } },
                { profileType: 'Coach', firstName: 'Joao', lastName: 'Pereira', club: 'Casa Pia AC', isWithoutClub: false, contact: { phone: '', comment: '' } },
                { profileType: 'Sporting Director', firstName: 'Karolis', lastName: 'Skinkys', club: 'Kerala Blasters FC', isWithoutClub: false, contact: { phone: '', comment: '' } },
                { profileType: 'Sporting Director', firstName: 'Luis', lastName: 'Prado', club: 'Rayo Vallecano Women', isWithoutClub: false, contact: { phone: '', comment: 'Football Director' } },
                { profileType: 'Scout', firstName: 'Marco', lastName: 'Zibardi', club: 'Sampdoria', isWithoutClub: false, contact: { phone: '', comment: '' } },
                { profileType: 'Coach', firstName: 'Massimiliano', lastName: 'Canzi', club: 'Juventus Women', isWithoutClub: false, contact: { phone: '', comment: '' } },
                { profileType: 'Coach', firstName: 'Miha', lastName: 'Vukelic', club: 'NK Rudes U17', isWithoutClub: false, contact: { phone: '', comment: '' } },
                { profileType: 'Coach', firstName: 'Mirko', lastName: 'Zhaja', club: 'NK Hajduk Academy', isWithoutClub: false, contact: { phone: '', comment: '' } },
                { profileType: 'Sporting Director', firstName: 'Moreno', lastName: 'Zochi', club: 'Pontedera FC', isWithoutClub: false, contact: { phone: '', comment: '' } },
                { profileType: 'Sporting Director', firstName: 'Niko', lastName: 'Mindaugas', club: 'Widzew Lodz', isWithoutClub: false, contact: { phone: '', comment: '' } },
                { profileType: 'Sporting Director', firstName: 'Nikolaos', lastName: 'Topoliatis', club: 'Punjab FC', isWithoutClub: false, contact: { phone: '', comment: 'Football Director' } },
                { profileType: 'Coach', firstName: 'Paolo', lastName: 'Tramezzani', club: 'NK Istra', isWithoutClub: false, contact: { phone: '', comment: '' } },
                { profileType: 'Coach', firstName: 'Patrizia', lastName: 'Panico', club: 'Fiorentina Women', isWithoutClub: false, contact: { phone: '', comment: '' } },
                { profileType: 'Scout', firstName: 'Rafal', lastName: 'Zerbecki', club: 'Pogon Szczecin', isWithoutClub: false, contact: { phone: '', comment: 'Chief Scout' } },
                { profileType: 'Coach', firstName: 'Ravi', lastName: 'Puskur', club: 'FC Goa', isWithoutClub: false, contact: { phone: '', comment: 'CEO' } },
                { profileType: 'Sporting Director', firstName: 'Roman', lastName: 'Dubov', club: 'Paphos FC', isWithoutClub: false, contact: { phone: '', comment: '' } },
                { profileType: 'Coach', firstName: 'Simon', lastName: 'Rozman', club: '', isWithoutClub: true, contact: { phone: '', comment: '' } },
                { profileType: 'Coach', firstName: 'Simone', lastName: 'Lelli', club: 'Chievo Verona Women', isWithoutClub: false, contact: { phone: '', comment: '' } },
                { profileType: 'President', firstName: 'Stefan', lastName: 'Kozic', club: 'ZNK Pomurje MURA', isWithoutClub: false, contact: { phone: '', comment: '' } },
                { profileType: 'Coach', firstName: 'Stjepan', lastName: 'Babic', club: 'NK Rudes U19', isWithoutClub: false, contact: { phone: '', comment: '' } },
                { profileType: 'Coach', firstName: 'Suzanne', lastName: 'Bakker', club: 'AC Milan Women', isWithoutClub: false, contact: { phone: '', comment: '' } },
                { profileType: 'Sporting Director', firstName: 'Veliche', lastName: 'Sumolikoski', club: 'FC Slovacko', isWithoutClub: false, contact: { phone: '', comment: '' } },
                { profileType: 'Sporting Director', firstName: 'Vladimir', lastName: 'Matisajevic', club: 'Cukaricki FC', isWithoutClub: false, contact: { phone: '', comment: '' } },
            ],
            clubRequests: [
                { clubName: 'Punjab FC', country: 'India', positions: ['Centre-Back (CB)', 'Defensive Midfielder (DM)', 'Attacking Midfielder (AM)', 'Striker (ST)', 'Right Winger (RW)'], salaryRange: '> 20k', notes: 'Budget: 80120 K USD net/season' },
                { clubName: 'Korea & Indian Clubs', country: 'Asia', positions: ['Central Midfielder (CM)', 'Defensive Midfielder (DM)'], salaryRange: '10k - 20k', notes: 'EU passport preferred' },
                { clubName: 'Transinvest FC', country: 'Lithuania', positions: ['Centre-Back (CB)', 'Right Winger (RW)', 'Defensive Midfielder (DM)'], salaryRange: '< 5k', notes: 'Budget: Up to 2,000/month' },
                { clubName: 'NK Mura', country: 'Slovenia', positions: ['Centre-Back (CB)', 'Right-Back (RB)', 'Left-Back (LB)', 'Defensive Midfielder (DM)', 'Central Midfielder (CM)', 'Attacking Midfielder (AM)', 'Striker (ST)'], salaryRange: '< 5k', notes: 'Budget: 2,0004,000/month + accommodation. Free agents only.' },
                { clubName: 'K-League 2', country: 'South Korea', positions: ['Right Winger (RW)', 'Left Winger (LW)'], salaryRange: '5k - 10k', notes: 'Budget: $10,000/month' },
                { clubName: 'Kerala Blasters', country: 'India', positions: ['Centre-Back (CB)', 'Striker (ST)'], salaryRange: '> 20k', notes: 'Budget: 100200 K USD net/season' },
                { clubName: 'Lech Pozna', country: 'Poland', positions: ['Striker (ST)', 'Right Winger (RW)', 'Attacking Midfielder (AM)', 'Right-Back (RB)', 'Left-Back (LB)', 'Centre-Back (CB)'], salaryRange: '> 20k', notes: 'Up to 1.5 M transfer fee; avg. salary ~180 K net/year' },
                { clubName: 'Watford', country: 'England', positions: ['Centre-Back (CB)', 'Left-Back (LB)', 'Right-Back (RB)', 'Right Winger (RW)', 'Striker (ST)'], salaryRange: '> 20k', notes: 'Must meet min. 15 GBE points' },
                { clubName: 'Udinese', country: 'Italy', positions: ['Centre-Back (CB)', 'Left-Back (LB)', 'Right-Back (RB)', 'Central Midfielder (CM)', 'Striker (ST)'], salaryRange: '> 20k', notes: 'Transfer fee available. EU passport required' },
                { clubName: 'Gibraltar Premier League', country: 'Gibraltar', positions: ['Attacking Midfielder (AM)'], salaryRange: '< 5k', notes: '2,000/month + 3,000 signing bonus + accommodation' },
                { clubName: 'Iran Pro League Club', country: 'Iran', positions: ['Goalkeeper (GK)'], salaryRange: '> 20k', notes: 'Top Profile. $70,000/month + accommodation, travel, bonuses' },
                { clubName: 'Oxford United', country: 'England', positions: ['Striker (ST)', 'Attacking Midfielder (AM)', 'Centre-Back (CB)', 'Right-Back (RB)'], salaryRange: '> 20k', notes: 'Transfer fees available' },
                { clubName: 'Andorra Club', country: 'Andorra', positions: ['Central Midfielder (CM)'], salaryRange: '< 5k', notes: '1,3751,700 net/month + accommodation. EU passport only' },
                { clubName: 'Radniki Kragujevac', country: 'Serbia', positions: ['Centre-Back (CB)'], salaryRange: '< 5k', notes: 'Fast CB. Up to 4,000 net/month + accommodation. Playing in UEFA Conference League' },
                { clubName: 'Widzew d', country: 'Poland', positions: ['Centre-Back (CB)', 'Defensive Midfielder (DM)', 'Central Midfielder (CM)', 'Left-Back (LB)', 'Right Winger (RW)', 'Striker (ST)'], salaryRange: '> 20k', notes: 'Up to 1 M transfer fee; salary based on profile' },
                { clubName: 'Tenerife', country: 'Spain', positions: ['Striker (ST)'], salaryRange: '> 20k', notes: 'Experienced ST. 300,000 salary; up to 1 M+ transfer fee' },
                { clubName: 'stersund', country: 'Sweden', positions: ['Striker (ST)', 'Central Midfielder (CM)'], salaryRange: '< 5k', notes: 'Budget: 23K/month' },
                { clubName: 'La Louvire', country: 'Belgium', positions: ['Centre-Back (CB)', 'Right-Back (RB)', 'Striker (ST)'], salaryRange: '< 5k', notes: 'Fast R foot CB, RWB, 2nd striker, Target Striker. ~4K gross/month' },
                { clubName: 'NK Osijek', country: 'Croatia', positions: ['Striker (ST)', 'Defensive Midfielder (DM)', 'Central Midfielder (CM)', 'Attacking Midfielder (AM)', 'Right-Back (RB)', 'Goalkeeper (GK)', 'Right Winger (RW)'], salaryRange: '> 20k', notes: '120150 K net/year; free/loan, small fee' },
                { clubName: 'NK Istra', country: 'Croatia', positions: ['Striker (ST)', 'Centre-Back (CB)', 'Right Winger (RW)'], salaryRange: '5k - 10k', notes: 'Fast Winger (excellent 1v1)' },
                { clubName: 'mili FC', country: 'Azerbaijan', positions: ['Striker (ST)'], salaryRange: '5k - 10k', notes: 'Target Man. 8,000 net/month' },
                { clubName: 'IMT FK', country: 'Serbia', positions: ['Goalkeeper (GK)', 'Right-Back (RB)', 'Central Midfielder (CM)', 'Attacking Midfielder (AM)', 'Right Winger (RW)', 'Left Winger (LW)'], salaryRange: '5k - 10k', notes: '' },
                { clubName: 'Hajduk Split', country: 'Croatia', positions: ['Centre-Back (CB)', 'Defensive Midfielder (DM)', 'Central Midfielder (CM)', 'Left Winger (LW)', 'Right Winger (RW)', 'Striker (ST)'], salaryRange: '> 20k', notes: '20-25k/month. Free or free loan or small transfer' },
                { clubName: 'Istra Pula', country: 'Croatia', positions: ['Left-Back (LB)'], salaryRange: '< 5k', notes: '4-6k/month. Free, Max 28 years old' },
            ]
        };

        // Make the upload function globally accessible
        window.uploadData = async function() {
            const statusDiv = document.getElementById('status');
            const button = document.getElementById('upload-button');
            button.disabled = true;
            button.textContent = 'Uploading...';
            statusDiv.innerHTML = 'Starting upload process...<br>';

            try {
                // Upload Profiles
                statusDiv.innerHTML += 'Uploading profiles...<br>';
                const profilesBatch = writeBatch(db);
                dataToUpload.profiles.forEach(profile => {
                    const docRef = doc(collection(db, "profiles"));
                    profilesBatch.set(docRef, profile);
                });
                await profilesBatch.commit();
                statusDiv.innerHTML += ` Successfully uploaded ${dataToUpload.profiles.length} profiles.<br>`;

                // Upload Club Requests
                statusDiv.innerHTML += 'Uploading club requests...<br>';
                const requestsBatch = writeBatch(db);
                dataToUpload.clubRequests.forEach(request => {
                    const docRef = doc(collection(db, "clubRequests"));
                    // Add a createdAt timestamp for sorting
                    const requestData = {...request, createdAt: serverTimestamp() };
                    requestsBatch.set(docRef, requestData);
                });
                await requestsBatch.commit();
                statusDiv.innerHTML += ` Successfully uploaded ${dataToUpload.clubRequests.length} club requests.<br>`;

                statusDiv.innerHTML += '<br><strong class="text-green-600">All data has been successfully uploaded!</strong><br>You can now close this page and go to your live app.';
                button.textContent = 'Upload Complete';
                button.classList.remove('bg-red-500', 'hover:bg-red-600');
                button.classList.add('bg-green-500');

            } catch (error) {
                console.error("Error uploading data: ", error);
                statusDiv.innerHTML += `<br><strong class="text-red-600">An error occurred:</strong> ${error.message}<br>Please check the console for details and ensure your Firebase rules are correct.`;
                button.textContent = 'Upload Failed';
            }
        }
    </script>
</body>
</html>
